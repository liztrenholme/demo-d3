(this["webpackJsonpdemo-d3"]=this["webpackJsonpdemo-d3"]||[]).push([[0],{180:function(t,e,n){},181:function(t,e,n){},184:function(t,e,n){},185:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(85),a=n.n(i),c=(n(180),n(181),n(9)),u=n(4),l=(n(8),n(28),n(6)),s=(n(183),n(184),n(2)),d=n(83),f=n(189),p=n(187),g=n(46),b=n(188),m=n(35),y=function(t){var e=t.data,n=t.nodeId,i=void 0===n?function(t){return t.id}:n,a=t.nodeGroup,c=t.nodeGroups,y=t.nodeTitle,h=void 0===y?function(t){return t.name}:y,v=t.nodeFill,j=void 0===v?"currentColor":v,x=t.nodeStroke,k=void 0===x?"#fff":x,O=t.nodeStrokeWidth,_=void 0===O?1.5:O,S=t.nodeStrokeOpacity,w=void 0===S?1:S,E=t.nodeRadius,C=void 0===E?25:E,W=t.nodeStrength,G=t.linkSource,A=void 0===G?function(t){return t.source}:G,N=t.linkTarget,T=void 0===N?function(t){return t.target}:N,L=t.linkStroke,M=void 0===L?"#999":L,z=t.linkStrokeOpacity,D=void 0===z?.6:z,R=t.linkStrokeWidth,I=void 0===R?9.5:R,J=t.linkStrokeLinecap,P=void 0===J?"round":J,U=t.linkStrength,q=t.width,B=t.height,F=(t.cluster,t.handleSetCluster),H=s.d,X=Object(r.useState)({}),Y=Object(l.a)(X,2),$=Y[0],K=Y[1],Q=Object(r.useRef)(null),V=Object(r.useRef)(null);return Object(r.useEffect)((function(){var n={width:t.width,height:t.height,margins:50};n.containerWidth=n.width-2*n.margins,n.containerHeight=n.height-2*n.margins;var r=s.e(Q.current).classed("network-chart",!0).attr("width",n.width).attr("height",n.height).style("background-color","#f5f5f5");r.selectAll("*").remove();var o=r.append("g").classed("container",!0).attr("transform","translate(".concat(n.margins,", ").concat(n.margins,")")),l=s.b(e.nodes,i).map(Y);s.b(e.links,A).map(Y),s.b(e.links,T).map(Y);void 0===h&&(h=function(t,e){return l[e]});var y=null==h?null:s.b(e.nodes,h),v=null==a?null:s.b(e.nodes,a).map(Y),x="function"!==typeof I?null:s.b(e.links,I),O="function"!==typeof M?null:s.b(e.links,M),S=e.links.map((function(t){return Object(u.a)({},t)})),E=e.nodes.map((function(t){return Object(u.a)({},t)}));console.log("nodes",E),console.log("links",S),v&&void 0===c&&(c=s.f(v));var G=null==a?null:s.c(c,H),N=Object(f.a)(),L=Object(p.a)(S).id((function(t){var e=t.index;return l[e]}));void 0!==W&&N.strength(W),void 0!==U&&L.strength(U);var z=Object(g.a)(E).force("link",Object(p.a)(S).id((function(t){return t.id})).distance(100)).force("charge",Object(f.a)().distanceMin(200).distanceMax(1e3)).force("center",Object(b.a)(q/2,B/2)).on("tick",(function(){R.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),J.attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).call(s.a().on("start",Z).on("drag",tt).on("end",et)).append("text",!0).text((function(t){return(t.city||t.group)+" "+(t.name||"")})),r.call(Object(m.a)().on("zoom",(function(t){r.select("g").attr("transform",t.transform)}))).call(Object(d.a)().on("drag",(function(t){r.attr("cx",t.x).attr("cy",t.y)}))),X.attr("dx",(function(t){return t.x})).attr("dy",(function(t){return t.y})).call(s.a().on("start",Z).on("drag",tt).on("end",et)).append("text",!0).text((function(t){return(t.city||t.group)+" "+(t.name||"")}))})),R=o.append("g").attr("stroke","function"!==typeof M?M:null).attr("stroke-opacity",D).attr("stroke-width","function"!==typeof I?I:null).attr("stroke-linecap",P).selectAll("line").data(S).join((function(t){return t.append("line").attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})).transition().duration(1e3).style("opacity",1).selection()}),(function(t){return t.transition().duration(1e3).attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).selection()}),(function(t){return t.remove()})),J=o.append("g").attr("fill",j).attr("fill-opacity",1).attr("stroke",k).attr("stroke-opacity",w).attr("stroke-width",_).selectAll("circle").data(E).join((function(t){return t.append("circle").attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).transition().duration(100).selection().on("click",(function(t){return console.log("d",t)})).on("dblclick",(function(t,e){t.stopPropagation(),F(e)})).on("contextmenu",(function(t,e){console.log("context!",t,e),t.preventDefault(),K(e),s.e("context-container").style("position","absolute").attr("position","absolute").style("left",t.pageX+50+"px").style("top",t.pageY+"px"),s.e("g").append("div").append("div").style("position","absolute").attr("position","absolute").style("left",t.pageX+50+"px").style("top",t.pageY+"px").classed("context-info",!0).html("".concat(e.label," <br> Division: ").concat(e.division," <br> Conference: ").concat(e.conference))}))}),(function(t){return t.transition().duration(1e3).attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).selection()}),(function(t){return t.remove()})).attr("r",C);J.append("title").text((function(t){return(t.city||t.group)+" "+(t.name||"")}));var X=o.append("g").selectAll("text").data(E).join((function(t){return t.append("text").text((function(t){return t.label})).attr("font-size",12).attr("text-anchor","middle").attr("dx",(function(t){return t.x-100})).attr("dy",(function(t){return t.y})).attr("background-color","white").selection()}),(function(t){return t.transition().duration(1e3).attr("dx",(function(t){return t.x})).attr("dy",(function(t){return t.y})).selection()}),(function(t){return t.remove()}));function Y(t){return null!==t&&"object"===typeof t?t.valueOf():t}function Z(t){t.active||z.alphaTarget(.3).restart(),t.subject.fx=t.subject.x,t.subject.fy=t.subject.y}function tt(t){t.subject.fx=t.x,t.subject.fy=t.y}function et(t){t.active||z.alphaTarget(0),t.subject.fx=null,t.subject.fy=null}x&&R.attr("stroke-width",(function(t){var e=t.index;return x[e]})),O&&R.attr("stroke",(function(t){var e=t.index;return O[e]})),v&&J.attr("fill",(function(t){var e=t.index;return G(v[e])})),y&&J.append("title").text((function(t){var e=t.index;return y[e]}));var nt=s.e(V.current).classed("context-div",!0).attr("width",100).attr("height",200);$&&Object.keys($).length?nt.append("div").classed("context-info",!0).html("".concat($.label," <br> Division: ").concat($.division," <br> Conference: ").concat($.conference)).style("left",$.x+50+"px").style("top",$.y+"px"):r.selectAll("context-div").style("display","none")}),[t.data,Q.current,V.current,$]),o.a.createElement("div",null,o.a.createElement("div",{className:"context-container",style:{position:"absolute"},ref:V}),o.a.createElement("svg",{ref:Q}))},h=n(44);var v=function(){var t=Object(r.useState)(null),e=Object(l.a)(t,2),n=e[0],i=(e[1],Object(r.useState)([])),a=Object(l.a)(i,2),s=a[0],d=a[1],f=Object(r.useState)(1),p=Object(l.a)(f,2),g=p[0],b=(p[1],Object(r.useState)([0,0])),m=Object(l.a)(b,2),v=m[0],j=m[1],x=Object(r.useState)(!0),k=Object(l.a)(x,2),O=k[0],_=k[1];Object(r.useEffect)((function(){s.length||d(h)}),[g,n,s.length]),console.log("data is",h);var S=[];Object.keys(s).forEach((function(t){S.push(Object(u.a)(Object(u.a)({},s[t]),{},{group:t,label:t,id:t})),O[t]||Object.keys(s[t]).forEach((function(e){return"string"===typeof s[t][e]?S.push(Object(u.a)(Object(u.a)({},s[t]),{},{group:t,label:t})):S.push(Object(u.a)(Object(u.a)({},s[t][e]),{},{group:t,label:e,id:e}))}))}));var w=S.length?S.map((function(t){return{source:t.group,target:t.label,value:2}})):[],E=(Object(r.useLayoutEffect)((function(){function t(){j([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",t),t(),function(){return window.removeEventListener("resize",t)}}),[]),v),C=Object(l.a)(E,2),W=C[0],G=C[1];return o.a.createElement("div",{className:"main"},o.a.createElement("h1",null,"Sun and Moon Data"),o.a.createElement("div",{className:"main-layout"},o.a.createElement("div",{className:"graph-3d"},o.a.createElement(y,{data:{nodes:S,links:w},nodeId:function(t){return t.id+t.name},nodeGroup:function(t){return t.group},nodeGroups:Object.keys(s),nodeTitle:function(t){return t.name},nodeFill:"currentColor",nodeStroke:"#fff",nodeStrokeWidth:1,nodeStrokeOpacity:1,nodeRadius:45,nodeStrength:90,linkSource:function(t){return t.source},linkTarget:function(t){return t.target},linkStroke:"#999",linkStrokeOpacity:.6,linkStrokeWidth:5,linkStrokeLinecap:"round",linkStrength:20,colors:10,width:W-100,height:G-100,cluster:O,handleSetCluster:function(t){O[t.id]?_(Object(u.a)(Object(u.a)({},O),{},Object(c.a)({},t.id,!1))):_(Object(u.a)(Object(u.a)({},O),{},Object(c.a)({},t.id,!0)))}}))))};var j=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},44:function(t){t.exports=JSON.parse('{"Sun":{"jd":2456824.134176539,"iso_date":"2014-06-15 15:13:13","position":{"absolute_degrees":84.4461683293164,"sign":"Gemini","deg":24.446168329316393,"min":26.770099758983577,"sec":46.20598553901459,"rel_tuple":["Gemini",24,26,46]},"dignity":null,"next_rise":{"description":"Sun rises","jd":2456824.6131326826,"iso_date":"2014-06-16 02:42:55","delta_days":0.47895566932857037},"next_set":{"description":"Sun sets","jd":2456824.3136996096,"iso_date":"2014-06-15 19:31:44","delta_days":0.17952257301658392},"last_rise":{"description":"Sun rises","jd":2456823.613199758,"iso_date":"2014-06-15 02:43:00","delta_days":-0.5209773005917668},"last_set":{"description":"Sun sets","jd":2456823.3133264054,"iso_date":"2014-06-14 19:31:11","delta_days":-0.8208506754599512}},"Moon":{"jd":2456824.1345874695,"iso_date":"2014-06-15 15:13:48","position":{"absolute_degrees":298.61998474401037,"sign":"Capricorn","deg":28.619984744010367,"min":37.199084640622004,"sec":11.945078437320262,"rel_tuple":["Capricorn",28,37,11]},"phase":{"trend":"waning","shape":"gibbous","quarter":null,"quarter_english":null},"illumination":0.810147644249792,"distance":0.002421304221721279,"diameter":32.99276341691477,"diameter_ratio":0.7693257118572435,"speed":14.890501719057983,"speed_ratio":1.0282817872056198,"age":17.856658097356558,"period_length":29.56128417328,"dignity":"detriment","next_new_moon":{"description":"Upcoming new moon in Cancer","jd":2456835.8392135454,"iso_date":"2014-06-27 08:08:28","delta_days":11.704618663527071},"next_full_moon":{"description":"Upcoming full moon in Capricorn","jd":2456850.9756300217,"iso_date":"2014-07-12 11:24:54","delta_days":26.84103513136506},"next_new_or_full_moon":{"description":"Upcoming new moon in Cancer","jd":2456835.8392135454,"iso_date":"2014-06-27 08:08:28","delta_days":11.704618647228926},"last_new_moon":{"description":"Preceding new moon in Gemini","jd":2456806.277929372,"iso_date":"2014-05-28 18:40:13","delta_days":-17.856665534432977},"last_full_moon":{"description":"Preceding full moon in Sagittarius","jd":2456821.6746404273,"iso_date":"2014-06-13 04:11:29","delta_days":-2.459954487159848}}}')}},[[185,1,2]]]);
//# sourceMappingURL=main.56ae5551.chunk.js.map